{"version":3,"sources":["components/InfoBox.js","util.js","components/Map.js","components/Table.js","components/LineGraph.js","App.js","index.js"],"names":["InfoBox","props","total","Card","className","CardContent","Typography","color","title","start","end","cases","duration","seperator","caseTypesColors","hex","rgb","half_op","multiplier","recovered","deaths","sortData","data","sortedData","sort","a","b","Map","countries","center","zoom","TileLayer","url","attribution","casesType","map","country","Circle","countryInfo","lat","long","fillOpacity","fillColor","radius","Math","sqrt","Popup","showDataOnMap","Table","LineGraph","useEffect","fetch","then","res","json","chartData","buildChartData","setData","useState","options","legend","display","elements","point","raduis","maintainAspectRatio","tooltips","mode","intersect","callbacks","label","tooltipItem","numeral","value","format","scales","xAxes","type","time","tooltipFormat","yAxes","gridLines","ticks","callback","index","values","lastDataPoint","date","newDataPoint","x","y","push","length","datasets","backgroundColor","borderColor","App","setCountries","setCountry","setCountryInfo","tableData","setTableData","lng","mapCenter","setMapCenter","mapZoom","setMapZoom","mapCountries","setMapCountries","countryList","name","iso2","getCountries","onCountryChange","event","countryCode","target","console","log","FormControl","Select","onChange","variant","MenuItem","item","key","todayCases","todayRecovered","todayDeaths","tests","testsPerOneMillion","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a32f2700.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Card, CardContent, Typography } from \"@material-ui/core\";\r\nimport Countup from \"react-countup\";\r\nfunction InfoBox(props) {\r\n\r\n    if(!props.total){\r\n      \r\n        return 'loading';\r\n        \r\n    }\r\n  return (\r\n    <Card className=\"infobox\">\r\n      <CardContent>\r\n        <Typography className=\"infobox_title\" color=\"textSecondary\">\r\n          {props?.title}\r\n        \r\n        </Typography>\r\n\r\n        <h2 className=\"infobox_cases\">\r\n          <Countup start={0} end={props?.cases} duration={2.5} seperator=\",\" />\r\n        </h2>\r\n\r\n        <Typography className=\"infobox_total\" color=\"textSecondary\">\r\n          <Countup start={0} end={props?.total} duration={2.5} seperator=\",\" />{\" \"}\r\n          Total\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default InfoBox;\r\n","import React from 'react'\r\nimport numeral from 'numeral'\r\nimport {Circle,Popup} from 'react-leaflet'\r\n\r\n\r\nconst caseTypesColors={\r\n    cases:{\r\n        hex:'#CC0134',\r\n        rgb:'rgb(204,16,52)',\r\n        half_op:\"rgba(204,16,52,0.5)\",\r\n        multiplier:800,\r\n    },\r\n    recovered:{\r\n        hex:'#7dd71d',\r\n        rgb:'rgb(125,21,29)',\r\n        half_op:\"rgba(126,21,29,0.5)\",\r\n        multiplier:1200,\r\n    },\r\n\r\n    deaths:{\r\n        hex:'#fb4443',\r\n        rgb:'rgb(251,60,67)',\r\n        half_op:\"rgba(252,60,67,0.5)\",\r\n        multiplier:2000,\r\n    },\r\n}\r\n\r\n\r\n\r\nexport const sortData = (data)=>{\r\n\r\n    const sortedData = [...data]\r\n\r\n    sortedData.sort((a,b)=>{\r\n        if(a.cases>b.cases){\r\n            return -1\r\n        }\r\n        else{\r\n            return 1\r\n        }\r\n    });\r\n\r\n    return sortedData;\r\n}\r\n\r\nexport const showDataOnMap = (data,casesType='cases')=>(\r\n    data.map(country=>(\r\n        <Circle\r\n        center={[country.countryInfo.lat, country.countryInfo.long]}\r\n        fillOpacity={0.4}\r\n        color={caseTypesColors[casesType].hex}\r\n        fillColor={caseTypesColors[casesType].hex}\r\n\r\n        radius={\r\n            Math.sqrt(country[casesType]) * caseTypesColors[casesType].multiplier\r\n        }\r\n        >\r\n            <Popup>\r\n    <h1>Total {casesType} :{country.cases}</h1>\r\n            </Popup>\r\n\r\n        </Circle>\r\n\r\n    ))\r\n)","import React from 'react'\r\nimport './Map.css'\r\nimport {Map as LeadlerMap, TileLayer} from 'react-leaflet'\r\nimport {showDataOnMap} from '../util'\r\nfunction Map({countries, center,zoom}) {\r\n    return (\r\n        <div className = \"map\">\r\n                <LeadlerMap center={center} zoom={zoom}>\r\n                    <TileLayer\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    attribution='&copy; <a href = \"http://osm.org/copyright\">\r\n                    OpenStreetMap</a> contributors'\r\n                    />\r\n\r\n\r\n                        {showDataOnMap(countries)}\r\n                </LeadlerMap>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Map\r\n","import React from 'react'\r\nimport \"./table.css\"\r\nfunction Table({countries}) {\r\n    return (\r\n        <div className = \"table\">\r\n            {countries.map(({country,cases})=>(\r\n                <tr>\r\n                    <td>{country}</td>\r\n            <td>{cases}</td>\r\n                </tr>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Line} from 'react-chartjs-2'\r\nimport numeral from 'numeral'\r\nfunction LineGraph({casesType=\"cases\"}) {\r\n\r\n    useEffect(()=>{\r\n            fetch('https://disease.sh/v3/covid-19/historical/all?lastdays=120')\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                    const chartData = buildChartData(data)\r\n                    setData(chartData)\r\n            })\r\n    },[casesType])\r\n\r\nconst [data,setData] = useState({})\r\nconst options = {\r\n    legend:{\r\n        display:false,\r\n    },\r\n    elements:{\r\n        point:{\r\n            raduis:0,\r\n        },\r\n    },\r\n    maintainAspectRatio:false,\r\n    tooltips:{\r\n        mode:\"index\",\r\n        intersect:false,\r\n        callbacks:{\r\n            label: function(tooltipItem,data){\r\n                return numeral(tooltipItem.value).format(\"+0,0\")\r\n            },\r\n        },\r\n    },\r\n    scales:{\r\n        xAxes:[\r\n            {\r\n                type:\"time\",\r\n                time:{\r\n                    format:\"MM/DD/YY\",\r\n                    tooltipFormat:\"ll\"\r\n                },\r\n            },\r\n        ],\r\n        yAxes:[\r\n            {\r\n                gridLines:{\r\n                    display:false\r\n                },\r\n                ticks:{\r\n                    callback: function(value,index,values){\r\n                        return numeral(value).format(\"0a\")\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\nconst buildChartData = (data,casesType=\"cases\")=>{\r\n    const chartData = [];\r\n    let lastDataPoint;\r\n\r\n   for(let date in data.cases){\r\n        if(lastDataPoint){\r\n            const newDataPoint={\r\n                x:date,\r\n                y:data[casesType][date] - lastDataPoint\r\n            }\r\n            chartData.push(newDataPoint)\r\n        }\r\n        lastDataPoint = data[casesType][date];\r\n    }\r\n    return chartData;\r\n};\r\n    return (\r\n        <div>\r\n            {data.length>0 && \r\n            <Line\r\n            options={options}\r\n            data={{\r\n                 datasets:[\r\n                     {\r\n                         backgroundColor:\"rgba(204,16,15,0.5)\",\r\n                         borderColor:\"black\",\r\n                         data:data\r\n                     }\r\n                 ]\r\n            }}/>}\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LineGraph\r\n","import React,{useState,useEffect} from \"react\";\nimport { MenuItem, FormControl, Select } from \"@material-ui/core\";\nimport \"./App.css\";\nimport InfoBox from './components/InfoBox'\nimport Map from \"./components/Map\";\nimport {Card,CardContent,} from '@material-ui/core'\nimport Table from './components/Table'\nimport {sortData} from './util'\nimport LineGraph from './components/LineGraph'\nimport \"leaflet/dist/leaflet.css\"\n//https://disease.sh/v3/covid-19/countires\nfunction App() {\n  const [countries,setCountries] = useState([])\n  const [country,setCountry] = useState('worldwide');\n  const [countryInfo,setCountryInfo] = useState({})\n  const [tableData,setTableData] = useState([])\n  const [mapCenter,setMapCenter] = useState({lat:34, lng:-40})\n  const [mapZoom,setMapZoom] = useState(3)\n  const [mapCountries,setMapCountries] = useState([])\n  useEffect(()=>{\n\n      fetch('https://disease.sh/v3/covid-19/all')\n      .then(res=>res.json())\n        .then(data=>{\n          setCountryInfo(data)\n        })\n      const getCountries = async()=>{\n\n        await fetch('https://disease.sh/v3/covid-19/countries')\n        .then(res=>res.json())\n        .then(data=>{\n          const countryList = data.map((country)=>(\n            {\n              name: country.country,\n              value:country.countryInfo.iso2\n            }\n          ));\n          const sortedData = sortData(data)\n          setTableData(sortedData)\n          setMapCountries(data)\n          setCountries(countryList)\n        })\n        \n      }\n      getCountries();\n  },[])\n\n  const onCountryChange = async(event)=>{\n    const countryCode = event.target.value;\n    \n\n    const url = countryCode ===\"worldwide\" ? 'https://disease.sh/v3/covid-19/all':\n    `https://disease.sh./v3/covid-19/countries/${countryCode}`\n\n    await fetch(url)\n    .then(res=>res.json())\n    .then(data=>{\n        setCountryInfo(data)\n        setCountry(countryCode)\n        console.log(data)\n        setMapCenter([data.countryInfo.lat,data.countryInfo.long])\n        setMapZoom(5)\n    })\n\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"app_left\">\n   \n      <div className=\"app_header\">\n        <h1>COVID 19 TRACKER</h1>\n     \n        <FormControl className=\"app_dropdown\">\n          <Select onChange={onCountryChange} variant=\"outlined\" value={country}>\n\n            <MenuItem value=\"worldwide\">World Wide</MenuItem>\n          {countries.map(item=>(\n            <MenuItem key={item.name} value= {item.value}>{item.name}</MenuItem>\n          ))}\n          </Select>\n        </FormControl>\n      </div>\n      {/* Finishing Header */}\n\n      {/* Starting Stats */}\n            <div className=\"app_stats\">\n                <InfoBox \n                title=\"Coronavirus Cases\" total={countryInfo?.cases} cases={countryInfo.todayCases}/>\n            {console.log(countryInfo.cases)}\n                <InfoBox \n                title=\"Recovered\" total={countryInfo.recovered} cases={countryInfo.todayRecovered}/>\n                <InfoBox \n                title=\"Deaths\" total={countryInfo.deaths} cases={countryInfo.todayDeaths}/>\n                <InfoBox\n                title=\"Tests\" total={countryInfo?.tests} cases ={countryInfo?.testsPerOneMillion}\n                />\n            </div>\n           <Map \n           countries = {mapCountries}\n           center={mapCenter}\n           zoom={mapZoom}/>\n              </div>\n\n              <Card className=\"app_right\">\n                <CardContent>\n                  <h1>Live Cases By Country</h1>\n                    <Table countries = {tableData}/>\n\n                  <h1>Worldwide New Cases</h1>\n                  <LineGraph/>\n                </CardContent>\n              </Card>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n \n    <App />\n,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}